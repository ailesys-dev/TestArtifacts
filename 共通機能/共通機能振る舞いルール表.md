# AllCampus 共通機能振る舞いルール表

## 1. 概要
本ドキュメントは、AllCampusプロジェクトにおける共通機能の標準的な振る舞いを定義するものである。
画面個別の仕様書に記載がない場合、本ドキュメントの定義を「正」として扱う。

## 2. ルール一覧

### 必須項目
**Scenario: 必須項目の表示**
- **Given** 入力項目が必須である
- **Then** ラベルの背景色が赤くなっている状態で表示される

**Scenario: 未入力時のバリデーション**
- **Given** 必須項目が未入力である
- **When** 検索等の次へ進む操作を行う
- **Then** 項目下に赤文字でエラーメッセージが表示される
- **And** 画面右上にエラーがトースト表示される

### 検索ボタン
**Scenario: 検索実行時の挙動**
- **Given** 検索ボタンが表示されている
- **When** 検索ボタンを押下する
- **Then** 画面が暗転し、キャンセルボタン付きのローディング（スピナー）が表示される
- **And** 処理中はキャンセルボタン以外が非活性化される（二重送信防止）

**Scenario: 検索結果が存在する場合**
- **Given** 検索条件に一致するデータが存在する
- **When** 検索を実行する
- **Then** 検索条件と一致する検索結果が表示される(DB等で同等の条件と照らし合わせて確認する)

**Scenario: 検索結果が0件の場合**
- **Given** 検索条件に一致するデータが存在しない
- **When** 検索を実行する
- **Then** 「該当するデータがありません」というメッセージが表示される(DB等で同等の条件と照らし合わせて確認する)


### 削除ボタン
**Scenario: 削除確認**
- **Given** 削除ボタンが表示されている
- **When** 削除ボタンを押下する
- **Then** 警告の確認モーダルが表示される
- **And** モーダルには「削除してよろしいですか？」というメッセージが表示される
- **And** 「はい」ボタンで削除が実行される
- **And** 「いいえ」ボタンでキャンセルされる

**Scenario: 削除不可データの削除試行**
- **Given** 削除対象のデータが削除不可（紐づきあり等）である
- **When** 削除を試みる
- **Then** エラーメッセージが表示される


## 3. 運用について
*   ここに記載するルールは、その機能の目的そのものであり、UI/UXは考慮しないものとする。
*   新たな共通パターンが発生した場合は、本ドキュメントを更新し周知すること。
